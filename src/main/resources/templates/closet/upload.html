<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.w3.org/1999/xhtml">
<head th:replace="partials :: header">
    <meta charset="UTF-8"/>
    <title>Upload Garment</title>
</head>
<body class="container">
<nav th:replace="partials :: nav"></nav>

<p>Hello from Upload</p>
<button type="button" class="btn btn-dark" id="open">Upload Picture</button>

<form th:action="@{/upload}" th:method="POST" th:object="${garment}">
    <div class="form-check">
        <button type="button" class="btn btn-secondary catBtn" th:each="cat:${cats}"><span th:text="${cat.name}"></span>
        </button>

        <input class="form-check-input" type="checkbox" value="" id="defaultCheck1"/>
        <label class="form-check-label" for="defaultCheck1">
        </label>
    </div>
    <div class="form-check">
        <input class="form-check-input" type="checkbox" value="" id="defaultCheck2"/>
        <label class="form-check-label" for="defaultCheck2">
            Disabled checkbox

        </label>
    </div>
    <input type="hidden" role="uploadcare-uploader" name="content" data-public-key="f4d049bd4151e8ea72ed"
           data-images-only="true" th:field="*{image}"/>
    <button type="submit" value="Save" class="btn btn-dark">Save</button>
</form>
<footer th:replace="partials :: footer"></footer>

<!--<script src="//static.filestackapi.com/filestack-js/1.x.x/filestack.min.js"></script>-->
<script>


    window.addEventListener('DOMContentLoaded', function () {
        const apikey = 'AtXT24mWXSGUvgcRzV7JQz';
        const client = filestack.init(apikey);

        let link;
        const options = {
            maxFiles: 1,
            uploadInBackground: false,
            onOpen: () => console.log('opened!'),
            onUploadDone: (res) => {
                console.log(res.filesUploaded[0].url)
                // $("#pic1").attr("src", res.filesUploaded[0].url);
            },

        };
        $();

        $('#open').click(() => {
            return client.picker(options).open();
        });

        $(".catBtn").click(function () {
            this.toggleClass("btn-secondary");
            this.toggleClass("btn-success");
        })


        $("#")


    });
</script>

</body>
</html>